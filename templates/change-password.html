<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Change Password</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='form.css') }}">
</head>
<body class="form-page">
    <div class="container">
        <h2>Change Password</h2>
        <form id="changePasswordForm" action="/change-password" method="POST">
            <input type="hidden" id="oldRhythmPattern" name="oldRhythmPattern">
            <input type="hidden" id="newRhythmPattern" name="newRhythmPattern">

            <div class="rhythm-section">
                <h3 class="rhythm-title">🎹 Enter Old Rhythm Pattern</h3>
                <div class="instructions">
                    <strong>Instructions:</strong> Use the piano keys below or your keyboard (Q,W,E,R,T,Y,U,I) to enter your old rhythm pattern.
                </div>
                <div class="keyboard-container">
                    <div class="piano-keyboard">
                        <div class="white-keys">
                            <div class="white-key" data-key="Q" data-note="C4"><div>C4</div><div>Q</div></div>
                            <div class="white-key" data-key="E" data-note="D4"><div>D4</div><div>E</div></div>
                            <div class="white-key" data-key="T" data-note="E4"><div>E4</div><div>T</div></div>
                            <div class="white-key" data-key="Y" data-note="F4"><div>F4</div><div>Y</div></div>
                            <div class="white-key" data-key="I" data-note="G4"><div>G4</div><div>I</div></div>
                        </div>
                        <div class="black-keys">
                            <div style="margin-left: 24px;"></div>
                            <div class="black-key" data-key="W" data-note="C#4"><div>C#4</div><div>W</div></div>
                            <div style="margin-left: 32px;"></div>
                            <div class="black-key" data-key="R" data-note="D#4"><div>D#4</div><div>R</div></div>
                            <div style="margin-left: 64px;"></div>
                            <div class="black-key" data-key="U" data-note="F#4"><div>F#4</div><div>U</div></div>
                        </div>
                    </div>
                    <div class="keyboard-instructions">
                        <p>Press keys or click the piano keys above to enter your old rhythm</p>
                        <div class="key-legend">
                            <span>🎵 White Keys: Q, E, T, Y, I</span>
                            <span>🎶 Black Keys: W, R, U</span>
                        </div>
                    </div>
                </div>
                <div class="rhythm-display" id="oldRhythmDisplay">
                    Your old rhythm pattern will appear here...
                </div>
                <div class="controls">
                    <button type="button" class="btn btn-secondary" id="recordOldBtn">🎤 Start Recording Old</button>
                    <button type="button" class="btn btn-secondary" id="playOldBtn" disabled>▶️ Play Back Old</button>
                    <button type="button" class="btn btn-secondary" id="clearOldBtn">🗑️ Clear Old</button>
                </div>
                <div class="status" id="oldStatus">Press "Start Recording Old" to begin entering your old rhythm</div>
            </div>

            <div class="rhythm-section" style="margin-top: 30px;">
                <h3 class="rhythm-title">🎹 Create New Rhythm Pattern</h3>
                <div class="instructions">
                    <strong>Instructions:</strong> Use the piano keys below or your keyboard (Q,W,E,R,T,Y,U,I) to create your new rhythm pattern.
                </div>
                <div class="keyboard-container">
                    <div class="piano-keyboard">
                        <div class="white-keys">
                            <div class="white-key" data-key="Q" data-note="C4"><div>C4</div><div>Q</div></div>
                            <div class="white-key" data-key="E" data-note="D4"><div>D4</div><div>E</div></div>
                            <div class="white-key" data-key="T" data-note="E4"><div>E4</div><div>T</div></div>
                            <div class="white-key" data-key="Y" data-note="F4"><div>F4</div><div>Y</div></div>
                            <div class="white-key" data-key="I" data-note="G4"><div>G4</div><div>I</div></div>
                        </div>
                        <div class="black-keys">
                            <div style="margin-left: 24px;"></div>
                            <div class="black-key" data-key="W" data-note="C#4"><div>C#4</div><div>W</div></div>
                            <div style="margin-left: 32px;"></div>
                            <div class="black-key" data-key="R" data-note="D#4"><div>D#4</div><div>R</div></div>
                            <div style="margin-left: 64px;"></div>
                            <div class="black-key" data-key="U" data-note="F#4"><div>F#4</div><div>U</div></div>
                        </div>
                    </div>
                    <div class="keyboard-instructions">
                        <p>Press keys or click the piano keys above to create your new rhythm</p>
                        <div class="key-legend">
                            <span>🎵 White Keys: Q, E, T, Y, I</span>
                            <span>🎶 Black Keys: W, R, U</span>
                        </div>
                    </div>
                </div>
                <div class="rhythm-display" id="newRhythmDisplay">
                    Your new rhythm pattern will appear here...
                </div>
                <div class="controls">
                    <button type="button" class="btn btn-secondary" id="recordNewBtn">🎤 Start Recording New</button>
                    <button type="button" class="btn btn-secondary" id="playNewBtn" disabled>▶️ Play Back New</button>
                    <button type="button" class="btn btn-secondary" id="clearNewBtn">🗑️ Clear New</button>
                </div>
                <div class="status" id="newStatus">Press "Start Recording New" to begin creating your new rhythm</div>
            </div>

            <button type="submit" class="btn btn-primary" id="submitBtn" disabled style="width: 100%; margin-top: 30px;">
                Change Password
            </button>
        </form>
        <p class="login-link">Back to <a href="/account">Account</a></p>
    </div>
    <script src="{{ url_for('static', filename='change_password.js') }}"></script>
</body>
</html>
